#!/bin/bash



# List of tools and their installation methods
declare -A tools
tools=(
    ["johntheripper"]="apt-get install john -y"
    ["hashcat"]="apt-get install hashcat -y"
    ["hydra"]="apt-get install hydra -y"
    ["rainbowcrack"]="apt-get install rainbowcrack -y"
    ["crunch"]="apt-get install crunch -y"
    ["medusa"]="apt-get install medusa -y"
    ["cewl"]="apt-get install cewl -y"
    ["patador"]="git clone https://github.com/pyupio/patador.git && cd patador && python3 setup.py install"
    ["ncrack"]="apt-get install ncrack -y"
    ["L0phtcrack"]="wget https://www.l0phtcrack.com/download/L0phtCrack_7.0.10_Install_x64.exe -O L0phtcrack_7.0.10_Install_x64.exe && wine L0phtcrack_7.0.10_Install_x64.exe"
    ["ophcrack"]="apt-get install ophcrack -y"
    ["thc hydra"]="apt-get install hydra -y"
    ["set"]="apt-get install set -y"
    ["gophish"]="wget https://github.com/gophish/gophish/releases/download/v0.12.1/gophish-v0.12.1-linux-64bit.zip -O gophish.zip && unzip gophish.zip && cd gophish-v0.12.1 && ./gophish"
    ["kingphisher"]="git clone https://github.com/securestate/king-phisher.git && cd king-phisher && python3 setup.py install"
    ["phishx"]="git clone https://github.com/s0md3v/PhishX.git && cd PhishX && pip install -r requirements.txt"
    ["shellphish"]="git clone https://github.com/shellphish/shellphish.git && cd shellphish && pip install -r requirements.txt"
    ["blackeye"]="git clone https://github.com/An0nUD4Y/BlackEye.git && cd BlackEye && chmod +x blackeye.sh"
    ["modlishka"]="wget https://github.com/drk1wi/Modlishka/releases/download/1.0/modlishka-linux-amd64 -O modlishka && chmod +x modlishka"
    ["trape"]="git clone https://github.com/jofpin/trape.git && cd trape && pip install -r requirements.txt"
    ["evilginx"]="git clone https://github.com/evilginx/evilginx2.git && cd evilginx2 && ./install.sh"
    ["lucy"]="wget https://github.com/ustayready/lucy/releases/download/v1.2/lucy-v1.2-linux-x86_64.tar.gz -O lucy.tar.gz && tar -xvf lucy.tar.gz && cd lucy && ./lucy"
    ["speedphish framework"]="git clone https://github.com/avavion/speedphish.git && cd speedphish && python3 setup.py install"
    ["msi single phish"]="git clone https://github.com/msfvenom/msi-single-phish.git && cd msi-single-phish && pip install -r requirements.txt"
)

# Function to check and install tools
check_and_install() {
    local tool=$1
    local install_command=$2
    
    # Check if the tool is installed
    if ! command -v "$tool" &> /dev/null; then
        echo "$tool is not installed."
        read -p "Do you want to install $tool? (y/n): " choice
        if [[ "$choice" == "y" || "$choice" == "Y" ]]; then
            echo "Installing $tool..."
            eval "$install_command"
            echo "$tool installed successfully."
        else
            echo "$tool installation skipped."
        fi
    else
        echo "$tool is already installed."
    fi
}

# Function to execute tools with the provided URL/IP address
execute_tool() {
    local tool=$1
    local address=$2

    # Trap Ctrl+C to handle interruption
    trap 'echo -e "\nInterrupt detected. Skipping $tool."; exit 1;' SIGINT

    case $tool in
        "johntheripper")
            john "$address"
            ;;
        "hashcat")
            hashcat "$address"
            ;;
        "hydra")
            hydra "$address"
            ;;
        "rainbowcrack")
            rainbowcrack "$address"
            ;;
        "crunch")
            crunch "$address"
            ;;
        "medusa")
            medusa "$address"
            ;;
        "cewl")
            cewl "$address"
            ;;
        "patador")
            cd patador && python3 patador.py "$address"
            ;;
        "ncrack")
            ncrack "$address"
            ;;
        "L0phtcrack")
            wine L0phtcrack_7.0.10_Install_x64.exe
            ;;
        "ophcrack")
            ophcrack
            ;;
        "thc hydra")
            hydra "$address"
            ;;
        "set")
            setool -a "$address"
            ;;
        "gophish")
            gophish
            ;;
        "kingphisher")
            king-phisher
            ;;
        "phishx")
            phishx "$address"
            ;;
        "shellphish")
            shellphish "$address"
            ;;
        "blackeye")
            blackeye.sh "$address"
            ;;
        "modlishka")
            ./modlishka "$address"
            ;;
        "trape")
            cd trape && python3 trape.py "$address"
